---
title: "p8105_hw2_qw2331"
output: github_document
---

```{r, echo = FALSE, message = FALSE}
library(tidyverse)
library(readxl)
```

## Problem 1

Read & clean the Mr. Trash Wheel sheet
```{r}
trash_df <- 
  read_excel(
    "data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "Mr. Trash Wheel",
    range = "A2:N408") %>% 
  janitor::clean_names() %>% 
  filter(is.na(dumpster) == FALSE) %>% 
  mutate(sports_balls = round(sports_balls))
```

Read & clean precipitation data for 2018 and 2019
```{r}
# Read and clean precipitation data for 2018
precip18_df <- 
  read_excel(
    "data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2018 Precipitation",
    range = "A2:B14") %>% 
  janitor::clean_names() %>% 
  drop_na(total) %>% 
  mutate(year = 2018)

# Read and clean precipitation data for 2019
precip19_df <- 
  read_excel(
    "data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2019 Precipitation",
    range = "A2:B14") %>% 
  janitor::clean_names() %>% 
  drop_na(total) %>% 
  mutate(year = 2019)

# Combine two data frame & convert `month`
precip_df <- 
  bind_rows(precip18_df, precip19_df) %>% 
  janitor::clean_names() %>% 
  mutate(month = month.name[month])
```

There are ``r nrow(trash_df)`` observations in the Mr. Trash Wheel dataframe after cleanness and ``r nrow(precip_df)`` in the second dataframe. And the key variables are `month` and `year` since they are used in both data sets. The total precipitation in 2018 is ``r precip_df %>% filter(year == 2018) %>% pull(total) %>% sum()`` and the median number of sports balls in a dumpster in 2019 is ``r trash_df %>% filter(year == 2019) %>% pull(sports_balls) %>% median()``.


## Problem 2

Clean `pols-month.csv`
```{r}
pols_df <- 
  read_csv("data/fivethirtyeight_datasets/pols-month.csv") %>% 
  janitor::clean_names() %>% 
  separate(mon, into = c("year", "month", "day")) %>% 
  mutate(year = as.integer(year),
         month = as.integer(month), 
         day = as.integer(day),
         month = month.name[month],
         president = ifelse(prez_gop == 0, "dem", "gop")
         ) %>% 
  select(-prez_dem & -prez_gop & -day) %>% 
  relocate(year, month, president)
```

